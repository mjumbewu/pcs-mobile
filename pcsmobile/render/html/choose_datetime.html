{% extends "error_catcher.html" %}

{% block title %}Date &amp; Time{% endblock %}
{% block content %}
    <form id="choose-datetime-screen" class="screen"
      method="GET" action="{{ return_url }}">
      <div class="titlebar">
        <a class="back" href="{{ return_url }}">Cancel</a>
        <h1>Date &amp; Time</h1>
        <button type="submit">Save</button>
      </div>
      
      {% for nv in reflect_params %}
      <input type="hidden" name="{{ nv|first }}" value="{{ nv|slice:"1:"|first }}" />
      {% endfor %}
      
      <h2>Date</h2>
      <ul>
        <li><fieldset class="date">
          <select class="month" name="{{ return_param }}_month">
            {% for month in months %}
            <option value="{{ forloop.counter }}"{% ifequal current_month forloop.counter %}
              selected="selected"{% endifequal %}>{{ month }}</option>
            {% endfor %}
          </select><select class="day" name="{{ return_param }}_day">
            {% for day in days %}
            <option value="{{ day }}"{% ifequal current_day day %}
              selected="selected"{% endifequal %}>{{ day }}</option>
            {% endfor %}
          </select><select class="year" name="{{ return_param }}_year">
            {% for year in years %}
            <option value="{{ year }}"{% ifequal current_year year %}
              selected="selected"{% endifequal %}>{{ year }}</option>
            {% endfor %}
          </select>
        </fieldset></li>
      </ul>
      
      <h2>Time</h2>
      <ul>
        <li><fieldset class="time">
          <select class="hour" name="{{ return_param }}_hour">
            {% for hour in hours %}
            <option value="{{ hour }}"{% ifequal current_hour hour %}
              selected="selected"{% endifequal %}>{{ hour }}</option>
            {% endfor %}
          </select><select class="minute" name="{{ return_param }}_minute">
            {% for minute in minutes %}
            <option value="{{ minute }}"{% ifequal current_minute minute %}
              selected="selected"{% endifequal %}>{{ minute }}</option>
            {% endfor %}
          </select><select class="midi" name="{{ return_param }}_midi">
            {% for midi in midis %}
            <option value="{{ midi }}"{% ifequal current_midi midi %}
              selected="selected"{% endifequal %}>{{ midi }}</option>
            {% endfor %}
          </select>
        </fieldset></li>
      </ul>
    </form>
{% endblock %}

